<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>AI fitness trainer</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/dumbel.png" />
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
    <script src="resources/js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/pose@0.8/dist/teachablemachine-pose.min.js"></script>
    <script src="resources/js/squataimodel.js"></script>
    <script src="resources/js/stopwatch.js"></script>
    <script src="resources/js/scripts.js"></script>
    <!-- Simple line icons-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.5.5/css/simple-line-icons.min.css"
        rel="stylesheet" />
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic"
        rel="stylesheet" type="text/css" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="resources/css/styles.css" rel="stylesheet" />
    <link href="resources/css/main.css" rel="stylesheet" />
    <link href="resources/css/slider.css" rel="stylesheet" />
    <link href="resources/css/HW.css" rel="stylesheet" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <style>
      #link {color: #E45635;display:block;font: 12px "Helvetica Neue", Helvetica, Arial, sans-serif;text-align:center; text-decoration: none;}
#link:hover {color: #CCCCCC}

#link, #link:hover {-webkit-transition: color 0.5s ease-out;-moz-transition: color 0.5s ease-out;-ms-transition: color 0.5s ease-out;-o-transition: color 0.5s ease-out;transition: color 0.5s ease-out;}

/** BEGIN CSS **/
        body {background: #333333;}
        @keyframes rotate-loading {
            0%  {transform: rotate(0deg);-ms-transform: rotate(0deg); -webkit-transform: rotate(0deg); -o-transform: rotate(0deg); -moz-transform: rotate(0deg);}
            100% {transform: rotate(360deg);-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); -o-transform: rotate(360deg); -moz-transform: rotate(360deg);}
        }

        @-moz-keyframes rotate-loading {
            0%  {transform: rotate(0deg);-ms-transform: rotate(0deg); -webkit-transform: rotate(0deg); -o-transform: rotate(0deg); -moz-transform: rotate(0deg);}
            100% {transform: rotate(360deg);-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); -o-transform: rotate(360deg); -moz-transform: rotate(360deg);}
        }

        @-webkit-keyframes rotate-loading {
            0%  {transform: rotate(0deg);-ms-transform: rotate(0deg); -webkit-transform: rotate(0deg); -o-transform: rotate(0deg); -moz-transform: rotate(0deg);}
            100% {transform: rotate(360deg);-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); -o-transform: rotate(360deg); -moz-transform: rotate(360deg);}
        }

        @-o-keyframes rotate-loading {
            0%  {transform: rotate(0deg);-ms-transform: rotate(0deg); -webkit-transform: rotate(0deg); -o-transform: rotate(0deg); -moz-transform: rotate(0deg);}
            100% {transform: rotate(360deg);-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); -o-transform: rotate(360deg); -moz-transform: rotate(360deg);}
        }

        @keyframes rotate-loading {
            0%  {transform: rotate(0deg);-ms-transform: rotate(0deg); -webkit-transform: rotate(0deg); -o-transform: rotate(0deg); -moz-transform: rotate(0deg);}
            100% {transform: rotate(360deg);-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); -o-transform: rotate(360deg); -moz-transform: rotate(360deg);}
        }

        @-moz-keyframes rotate-loading {
            0%  {transform: rotate(0deg);-ms-transform: rotate(0deg); -webkit-transform: rotate(0deg); -o-transform: rotate(0deg); -moz-transform: rotate(0deg);}
            100% {transform: rotate(360deg);-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); -o-transform: rotate(360deg); -moz-transform: rotate(360deg);}
        }

        @-webkit-keyframes rotate-loading {
            0%  {transform: rotate(0deg);-ms-transform: rotate(0deg); -webkit-transform: rotate(0deg); -o-transform: rotate(0deg); -moz-transform: rotate(0deg);}
            100% {transform: rotate(360deg);-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); -o-transform: rotate(360deg); -moz-transform: rotate(360deg);}
        }

        @-o-keyframes rotate-loading {
            0%  {transform: rotate(0deg);-ms-transform: rotate(0deg); -webkit-transform: rotate(0deg); -o-transform: rotate(0deg); -moz-transform: rotate(0deg);}
            100% {transform: rotate(360deg);-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); -o-transform: rotate(360deg); -moz-transform: rotate(360deg);}
        }

        @keyframes loading-text-opacity {
            0%  {opacity: 0}
            20% {opacity: 0}
            50% {opacity: 1}
            100%{opacity: 0}
        }

        @-moz-keyframes loading-text-opacity {
            0%  {opacity: 0}
            20% {opacity: 0}
            50% {opacity: 1}
            100%{opacity: 0}
        }

        @-webkit-keyframes loading-text-opacity {
            0%  {opacity: 0}
            20% {opacity: 0}
            50% {opacity: 1}
            100%{opacity: 0}
        }

        @-o-keyframes loading-text-opacity {
            0%  {opacity: 0}
            20% {opacity: 0}
            50% {opacity: 1}
            100%{opacity: 0}
        }
        .loading-container,
        .loading {
            height: 100px;
            position: relative;
            width: 100px;
            border-radius: 100%;
        }


        .loading-container { margin: 40px auto }

        .loading {
            border: 2px solid transparent;
            border-color: transparent #fff transparent #FFF;
            -moz-animation: rotate-loading 1.5s linear 0s infinite normal;
            -moz-transform-origin: 50% 50%;
            -o-animation: rotate-loading 1.5s linear 0s infinite normal;
            -o-transform-origin: 50% 50%;
            -webkit-animation: rotate-loading 1.5s linear 0s infinite normal;
            -webkit-transform-origin: 50% 50%;
            animation: rotate-loading 1.5s linear 0s infinite normal;
            transform-origin: 50% 50%;
        }

        .loading-container:hover .loading {
            border-color: transparent #E45635 transparent #E45635;
        }
        .loading-container:hover .loading,
        .loading-container .loading {
            -webkit-transition: all 0.5s ease-in-out;
            -moz-transition: all 0.5s ease-in-out;
            -ms-transition: all 0.5s ease-in-out;
            -o-transition: all 0.5s ease-in-out;
            transition: all 0.5s ease-in-out;
        }

        #loading-text {
            -moz-animation: loading-text-opacity 2s linear 0s infinite normal;
            -o-animation: loading-text-opacity 2s linear 0s infinite normal;
            -webkit-animation: loading-text-opacity 2s linear 0s infinite normal;
            animation: loading-text-opacity 2s linear 0s infinite normal;
            color: #ffffff;
            font-family: "Helvetica Neue, "Helvetica", ""arial";
            font-size: 10px;
            font-weight: bold;
            margin-top: 45px;
            opacity: 0;
            position: absolute;
            text-align: center;
            text-transform: uppercase;
            top: 0;
            width: 100px;
        }
    </style>
    <style>
      .pop_up_wrap {
      position: fixed;
      width: 100%;
      height: 100%;
      left: 0;
      top: 0;
      background: #333333;
      z-index: 10000;
      overflow: auto;
      }
      .pop_up {
      position: absolute;
      top: 50%;left:50%;
      transform: translate(-50%,-50%);
      }
      .pop_up img {
      height: 85vh;
      }
      .btn_close {
      position: absolute;
      cursor: pointer;
      top: -30px;
      right: 0;
      color: #fff;
      }
      button {
          -webkit-appearance: none;
          -moz-appearance: none;
          appearance: none;

          background: #00ff00;
          color: #ffffff;

          margin: 0;
          padding: 0.5rem 1rem;

          font-family: 'Noto Sans KR', sans-serif;
          font-size: 1rem;
          font-weight: 400;
          text-align: center;
          text-decoration: none;

          border: none;
          border-radius: 4px;

          display: inline-block;
          width: auto;

          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);

          cursor: pointer;

          transition: 0.5s;
        }

      </style>

  </head>

<body>
  
<div class="pop_up_wrap" id = "pop_up_wrap">
  <div class="pop_up">
  <a href="#">
    <div class="loading-container">
      <div class="loading"></div>
      <div id="loading-text">loading</div>
  </div>
  </a>
  </div>
  </div>


    <!-- Navigation-->
    <a class="menu-toggle rounded" href="#"><i class="fas fa-bars"></i></a>
    <nav id="sidebar-wrapper">
        <ul class="sidebar-nav">
            <li class="sidebar-brand"><a href="./index.html">AI trainer!</a></li>
            <li class="sidebar-nav-item"><a href="./push-up.html">push-up</a></li>
            <li class="sidebar-nav-item"><a href="./squat.html">Squats</a></li>
            <li class="sidebar-nav-item"><a href="./sit-up.html">sit-up</a></li>
            <li class="sidebar-nav-item"><a href="./howto.html">HowTo?</a></li>
        </ul>
    </nav>
    <!-- Header-->
    <div>
      <div class=org>
        <div style="float: left; width: 50%; align-items:center; display: flex; justify-content:center;"><img src=org.jpg></div>
        </div>
        <div class=mask>
        <div style="float: right; width: 50%; align-items:center; display: flex; justify-content:center;"><img src=mask.png></div>
        </div>
    </div>
    <div>
      <div>
        <h1>운동루틴분석 결과</h1>
      </div>
  
      <div style="margin: 50px; font-size: 60px;">
        <div style="display: flex;">
        결과 : <p id="result" style="color: red; font-style: italic;"></p> <br><br>
        </div>
        <p id="result2" style="font-size: 40px;"></p>
        <p id="result3" style="font-size: 40px;"></p>
  
      </div>
      <div>
        <h1>추천 운동 루틴</h1>
      </div>
      <div style="margin: 50px; font-size: 60px;">
      <div style="display: flex;">
        푸시업 : <p id="w1" style="margin-right: 30px;"></p>
        </div>
        <div style="display: flex;">
        스쿼트 : <p id="w2" style="margin-right: 30px;"></p>
        </div>
        <div style="display: flex;">
        윗몸일으키기 : <p id="w3" style="margin-right: 30px;"></p>
        </div>
          <div>
              <button onclick="location.href='index.html'">운동하러 가기</button>
          </div>
      </div>  
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>

<script>
  let h = getParam("height")
  let w = getParam("weight")
  let bmi = Math.round( (w/((h/100)*(h/100)))* 10)/10
  let step

  if (bmi < 15){
    step = "심한 저체중"
    document.getElementById('result2').textContent = "표준 체중이 되실려면 BMI을 "+Math.round(30-bmi)+"만큼 더 올려야합니다!"
    document.getElementById('result3').textContent = "심한 저체중 입니다. 심한 저체중이기에 근력운동이 많이 필요해보입니다!"
  } else if(bmi < 18.5){
  step = "저체중"
  document.getElementById('result2').textContent = "표준 체중이 되실려면 BMI을 "+Math.round(30-bmi)+"만큼 더 올려야합니다!"
  document.getElementById('result3').textContent = "저체중 입니다. 저체중이기에 근력운동이 필요해보입니다!"
  } else if(bmi < 25){
    step = "표준 체중"
  document.getElementById('result2').textContent = "꾸준히유지해 주세요"
  document.getElementById('result3').textContent = "이미 표준 체중범위입니다. AI 트레이너와 함께 꾸준히 운동해요!"
  } else if(bmi < 30){
    step = "과체중"
    document.getElementById('result2').textContent = "표준 체중이 되실려면 BMI을 "+Math.round(30-bmi)+"만큼 더 내려야합니다!"
    document.getElementById('result3').textContent = "과체중 입니다. 과체중이기에 유산소운동이 필요해보입니다!"
  } else {
    step = "심한 과체중"
    document.getElementById('result2').textContent = "표준 체중이 되실려면 BMI을 "+Math.round(30-bmi)+"만큼 더 내려야합니다!"
    document.getElementById('result3').textContent = "심한 과체중 입니다. 심한 과체중이기에 유산소운동이 많이 필요해보입니다!"
  } 

  document.getElementById('result').textContent = "당신의 BMI은 :"+bmi+"이며, "+step+"에 해당합니다."

  document.getElementById('w1').textContent = Math.round((bmi*5*0.3)/3)+"회 3세트, 총"+Math.round((bmi*5*0.3)/3)*3+"회 ("+Math.round(((bmi*5*0.3)/3)*3*0.3)+"Kcal)"
  document.getElementById('w2').textContent = Math.round((bmi*5*0.4)/3)+"회 3세트, 총"+Math.round((bmi*5*0.4)/3)*3+"회 ("+Math.round(((bmi*5*0.4)/3)*3*0.4)+"Kcal)"
  document.getElementById('w3').textContent = Math.round((bmi*5*0.5)/3)+"회 3세트, 총"+Math.round((bmi*5*0.5)/3)*3+"회 ("+Math.round(((bmi*5*0.5)/3)*3*0.5)+"Kcal)"

function getParam(sname) {

var params = location.search.substr(location.search.indexOf("?") + 1);

var sval = "";

params = params.split("&");

for (var i = 0; i < params.length; i++) {

    temp = params[i].split("=");

    if ([temp[0]] == sname) { sval = temp[1]; }

}

return sval;

}

const time = Math.random() * (10000-5000)+5000;
// console.log(time)
setTimeout(function() {
  const ele = document.getElementById("pop_up_wrap");
  ele.remove();
}, time);

</script>

