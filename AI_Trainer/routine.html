<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>push Up</title>
    <link rel="icon" type="image/x-icon" href="assets/dumbel.png" />
    <script
      src="https://use.fontawesome.com/releases/v5.15.3/js/all.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/pose@0.8/dist/teachablemachine-pose.min.js"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.5.5/css/simple-line-icons.min.css"
      rel="stylesheet"
    />
    <script src="resources/js/pushupaimodel.js"></script>
    <link type="text/css" media="all" href="https://usefulguide.net/wp-content/cache/breeze-minification/css/breeze_bdb9e78d6a783045635de14ce2ab20d2.css" rel="stylesheet">
    <link
      href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic"
      rel="stylesheet"
      type="text/css"
    />
    <link href="resources/css/styles.css" rel="stylesheet" />
    <!-- <link href="resources/css/main.css" rel="stylesheet" /> -->
    <link rel="stylesheet" href="resources/css/idpw.css" />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Barlow:wght@700&display=swap");
    </style>
  </head>
  <body style="background-color: E3F1EA;">
    <a class="menu-toggle rounded" href="#"><svg class="svg-inline--fa fa-bars fa-w-14" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"></path></svg><!-- <i class="fas fa-bars"></i> Font Awesome fontawesome.com --></a>

    <div>
      <h1>운동루틴분석</h1>
    </div>

    <div style="width: 100%">
      <div class="main-inputs">
        <h4>신체 이미지</h4>
        <form id="weight-form" name="form" action="result.html">
          <input type="file" accept="" onchange="loadFile(this)">
          <div class="fileContainer">
            <div class="fileInput">
                <p>FILE NAME: </p>
                <p id="fileName"></p>
            </div>
            <div class="buttonContainer">
                <div class="submitButton" id="submitButton">SUBMIT</div>
            </div>
        </div>

        <div class="image-show" id="image-show"></div>

        

        <h4>신체정보</h4>
            <div class="input-field">
              <input type="number" placeholder="키를 입력하세요" id="height" name="height">
              <span>cm</span></div><div class="input-field">
                <input type="number" placeholder="몸무게를 입력하세요" id="weight" name="weight">
                <span>kg</span>
            </div>
            
              <div class="input-field">
                <input type="number" placeholder="나이를 입력하세요" id="age"> <span>age</span>
              </div> 
                <button type="button" onclick="btn()" class="black-button submit" id="button"> 분석 </button>
                <p class="error"></p>
                <div class="loader"></div>
              </form>
    
        </div>


    <footer class="footer text-center">
      <div class="container px-4 px-lg-5">
        <ul class="list-inline mb-5">
          <li class="list-inline-item">
            <a class="social-link rounded-circle text-white mr-3" href="#!"><i class="icon-social-facebook"></i></a>
          </li>
          <li class="list-inline-item">
            <a class="social-link rounded-circle text-white mr-3" href="#!"><i class="icon-social-twitter"></i></a>
          </li>
          <li class="list-inline-item">
            <a class="social-link rounded-circle text-white" href="#!"><i class="icon-social-github"></i></a>
          </li>
        </ul>
      </div>
      <p class="text-muted small mb-0">Copyright © kwanwoo Website 2022</p>
      
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>

<script>

  function btn(){
  form = document.getElementById('weight-form')

  form.submit()
  }

  var submit = document.getElementById('submitButton');
submit.onclick = showImage;     //Submit 버튼 클릭시 이미지 보여주기

function showImage() {
    var newImage = document.getElementById('image-show').lastElementChild;
    newImage.style.visibility = "visible";
    
    document.getElementById('image-upload').style.visibility = 'hidden';

    document.getElementById('fileName').textContent = null;     //기존 파일 이름 지우기
}


function loadFile(input) {
    var file = input.files[0];

    var name = document.getElementById('fileName');
    name.textContent = file.name;

    var newImage = document.createElement("img");
    newImage.setAttribute("class", 'img');

    newImage.src = URL.createObjectURL(file);   

    newImage.style.width = "70%";
    newImage.style.height = "70%";
    newImage.style.visibility = "hidden";   //버튼을 누르기 전까지는 이미지 숨기기
    newImage.style.objectFit = "contain";

    var container = document.getElementById('image-show');
    container.appendChild(newImage);
};

</script>
